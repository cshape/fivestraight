{"version":3,"sources":["components/Square.js","components/Board.js","components/Card.js","components/CardHand.js","components/InfoPane.js","components/Game.js","App.js","index.js"],"names":["Square","onClick","displayNumber","color","style","background","border","fontSize","fontWeight","cursor","outline","borderRadius","width","height","margin","display","gridTemplate","Board","squares","map","square","i","key","number","Card","selected","CardHand","cards","myPlayer","card","location","InfoPane","pickUp","game","players","player","isActive","name","socket","io","styles","position","top","left","ButtonStyles","flex","flexDirection","Game","useState","selectedCard","setSelectedCard","setMyPlayer","setGame","isAGame","setisAGame","useEffect","on","data","console","log","board","activePlayer","filter","alert","forEach","DBsquare","some","nextPlayerNum","undefined","emit","availableCards","cardNumber","Math","floor","random","length","uniqueID","prompt","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.538a2997.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Square = ({ onClick, displayNumber, color }) => {\r\n    return <button\r\n    style={{\r\n        background: `${color}`,\r\n        border: '2px solid darkblue',\r\n        fontSize:  '30px',\r\n        fontWeight: '800',\r\n        cursor: 'pointer',\r\n        outline: 'none'\r\n      }}        \r\n        onClick={onClick}>\r\n        {displayNumber}\r\n    </button>\r\n}\r\n\r\nexport default Square","import React from 'react'\r\nimport Square from './Square'\r\n\r\nconst style = {\r\n    borderRadius: '10px',\r\n    width: '60vw',\r\n    height: '60vh',\r\n    margin: '0 auto',\r\n    display: 'grid',\r\n    gridTemplate: 'repeat(10, 1fr) / repeat(10, 1fr)'\r\n}\r\n\r\nconst Board = ({ squares, onClick }) => (\r\n    <div style={style}>\r\n        {squares.map((square, i) => (\r\n            <Square \r\n                color={square.color} \r\n                displayNumber={square.displayNumber} \r\n                key={i} number={square.number} \r\n                onClick={() => onClick(square)} \r\n            />\r\n        ))}\r\n    </div>\r\n)\r\n\r\nexport default Board","import React from 'react'\r\n\r\nconst Card = ({ displayNumber, number, onClick, selected }) => {\r\n    let color = '2px solid darkblue'\r\n    let amISelected = () => {\r\n      if (displayNumber === selected) {\r\n        color = '4px solid red'\r\n      }\r\n    }\r\n    amISelected()\r\n    return <button\r\n    style={{\r\n        border: `${color}`,\r\n        fontSize:  '30px',\r\n        fontWeight: '800',\r\n        cursor: 'pointer',\r\n        outline: 'none'\r\n      }}        \r\n      onClick={onClick}\r\n      >\r\n        {displayNumber}\r\n    </button>\r\n}\r\n\r\nexport default Card","import React from 'react'\r\nimport Card from './Card'\r\n\r\nconst CardHand = ({ cards, number, onClick, myPlayer, selected }) => {\r\n    let color = '2px solid darkblue'\r\n    let amISelected = () => {\r\n      if (number === selected) {\r\n        color = '4px solid red'\r\n      }\r\n    }\r\n    amISelected()\r\n    return <div>\r\n         {\r\n         // eslint-disable-next-line\r\n         cards.map((card, i) => {\r\n           if (card.location === myPlayer ) {\r\n            return <Card selected={selected} color={color} displayNumber={card.displayNumber} key={i} number={card.number} onClick={() => onClick(card.displayNumber)} />\r\n           }\r\n         }\r\n        )}\r\n    </div>\r\n}\r\n\r\nexport default CardHand","import React from 'react'\r\nimport CardHand from './CardHand'\r\n\r\nconst style = {\r\n    borderRadius: '10px',\r\n    width: '20vw',\r\n    height: '20vh',\r\n    margin: '0 left'\r\n}\r\n\r\n\r\n\r\nconst InfoPane = ({ pickUp, cards, game, myPlayer, onClick, selected }) => (\r\n    <div style={style}>\r\n        {game.players.map((player, i) => (\r\n            player.isActive ?\r\n            <p>It is {player.name}'s turn</p>\r\n            :\r\n            <p></p>\r\n        ))}\r\n            <CardHand \r\n            myPlayer={myPlayer} \r\n            cards={cards}\r\n            selected={selected} \r\n            onClick={onClick}  \r\n            />\r\n    <button onClick={pickUp}>\r\n        Pick up\r\n    </button>\r\n    </div>\r\n)\r\n\r\nexport default InfoPane","import React, { useState, useEffect } from 'react'\r\nimport Board from './Board'\r\nimport InfoPane from './InfoPane'\r\nimport io from \"socket.io-client\";\r\nconst ENDPOINT = \"https://fivestraightserver.herokuapp.com/\";\r\nconst socket = io(ENDPOINT);\r\n\r\nconst styles = {\r\n    width: '200px',\r\n    position: 'absolute',\r\n    top: '0',\r\n    left: '0'\r\n}\r\n\r\nconst ButtonStyles = {\r\n    flex: 1,\r\n    flexDirection: 'column'\r\n}\r\n\r\nconst Game = () => {\r\n    const [selectedCard, setSelectedCard] = useState(null)\r\n    const [myPlayer, setMyPlayer] = useState('')\r\n    const [game, setGame] = useState({})\r\n    const [isAGame, setisAGame] = useState(false)\r\n\r\n    useEffect(() => {\r\n        socket.on('name.chosen', function (data) {\r\n            console.log (data);\r\n        });\r\n        socket.on('game.created', function (data) {\r\n            setGame(data);\r\n            console.log(data)\r\n            setisAGame(true)\r\n        });\r\n        socket.on('game.joined', function (data) {\r\n            setGame(data);\r\n        });\r\n        socket.on('cards.dealt', function (data) {\r\n            setGame(data);\r\n            setisAGame(true); \r\n        });\r\n        socket.on('turn.over', function (data) {\r\n            setGame(data);\r\n            setSelectedCard(null)\r\n        });\r\n      }, []);\r\n    \r\n    const playCard = (square) => {\r\n        let activePlayer = game.players.filter(player => player.isActive === true);\r\n        if (activePlayer[0].name !== myPlayer) return alert(\"It's not your turn, homie.\");\r\n        if (selectedCard == null) return;\r\n        if (selectedCard > square.displayNumber) return alert(`${selectedCard} is greater than ${square.displayNumber} ya dum-dum.`);\r\n        // eslint-disable-next-line\r\n        game.cards.forEach(card => {\r\n            if (card.displayNumber === selectedCard) {\r\n                card.location = \"board\";\r\n            }\r\n        })\r\n        // eslint-disable-next-line\r\n        game.board.forEach(DBsquare => {\r\n            if (DBsquare.displayNumber === square.displayNumber) {\r\n                DBsquare.color = activePlayer[0].color;\r\n            }\r\n        })\r\n        // eslint-disable-next-line\r\n        game.players.some((player, i) => {\r\n            console.log(player.name, i)\r\n            if (player.isActive === true) {\r\n                game.players[i].isActive = false;\r\n                let nextPlayerNum = i+1;\r\n                if (game.players[nextPlayerNum] !== undefined) {\r\n                    game.players[nextPlayerNum].isActive = true\r\n                    return true;\r\n                } else {\r\n                    game.players[0].isActive = true\r\n                }\r\n            }\r\n        })\r\n        socket.emit('play.card', game)\r\n    }\r\n\r\n    const handleCardSelect = (number) => {\r\n        setSelectedCard(number)\r\n    }\r\n\r\n    const nameSelf = () => {\r\n        let name = prompt(\"What is your name?\");\r\n        socket.emit('choose.name', name)\r\n    }\r\n\r\n    const newGame = () => {\r\n        let name = prompt(\"What is your name?\");\r\n        setMyPlayer(name)\r\n        socket.emit('create.game', name)\r\n    }\r\n\r\n    const joinGame = () => {\r\n        let name = prompt(\"What is your name?\")\r\n        let game = prompt(\"What is the unique ID of the game you're joining?\")\r\n        let data = {\r\n            name: name,\r\n            game: game\r\n        }\r\n        setMyPlayer(data.name);\r\n        console.log(data.game)\r\n        socket.emit('join.game', data)\r\n    }\r\n\r\n    const dealCards = () => {\r\n        socket.emit('deal.cards', game)\r\n    }\r\n\r\n    const pickupCard = () => {\r\n        let activePlayer = game.players.filter(player => player.isActive === true);\r\n        if (activePlayer[0].name !== myPlayer) return alert(\"It's not your turn, homie.\");\r\n        // todo don't let them pick up if they have 4 cards\r\n        game.players.forEach(player => {\r\n            if (player.isActive === true) {\r\n                let availableCards = game.cards.filter(card => card.location === \"deck\");\r\n                let randomNumber = Math.floor(Math.random() * availableCards.length);\r\n                let cardNumber = availableCards[randomNumber].displayNumber\r\n                let card2deal = game.cards.filter(card => card.displayNumber === cardNumber)\r\n                card2deal[0].location = player.name;\r\n                }\r\n            })\r\n        // eslint-disable-next-line\r\n        game.players.some((player, i) => {\r\n            console.log(player.name, i)\r\n\r\n            // set the active player to be the next player, \r\n            // or if we're already on the last player, set it to the first player\r\n\r\n            if (player.isActive === true) {\r\n                game.players[i].isActive = false;\r\n                let nextPlayerNum = i+1;\r\n                console.log(game.players[nextPlayerNum])\r\n                if (game.players[nextPlayerNum] !== undefined) {\r\n                    game.players[nextPlayerNum].isActive = true\r\n                    return true;\r\n                } else {\r\n                    console.log(game.players[0])\r\n                    game.players[0].isActive = true\r\n                }\r\n            }\r\n        })\r\n        socket.emit('pickup.card', game)\r\n    }\r\n\r\n\r\n    return (\r\n        <>{}\r\n        <>\r\n        {isAGame ?\r\n            <div styles={styles}>\r\n             <Board squares={game.board} onClick={playCard} />\r\n            <InfoPane \r\n                      game={game}\r\n                      selected={selectedCard} \r\n                      cards={game.cards} \r\n                      onClick={handleCardSelect}\r\n                      pickUp={pickupCard}\r\n                      myPlayer={myPlayer}\r\n                      />\r\n            <p>The ID for this game is {game.uniqueID}</p>\r\n            <h1>Players:</h1>\r\n            {\r\n                game.players.map(player => (\r\n                        <p>{player.name}: {player.color}</p>\r\n                ))\r\n            }\r\n            </div>\r\n            :\r\n            <div>Welcome to 5Straight </div>\r\n            }\r\n        </>\r\n            \r\n            \r\n            <div style={ButtonStyles}>\r\n                <button onClick={nameSelf}>Name Self</button>\r\n                <button onClick={newGame}>Create Game</button>\r\n                <button onClick={joinGame}>Join Game</button>\r\n                <button onClick={dealCards}>Deal Cards</button>\r\n            </div>\r\n            \r\n            \r\n            \r\n        </>\r\n    )\r\n}\r\n\r\nexport default Game","import React from 'react'\r\nimport Game from './components/Game'\r\n\r\nconst App = () => <Game />\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}